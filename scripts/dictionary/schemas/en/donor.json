{
  "name": "donor",
  "description": "The collection of data elements related to a specific donor in the CQDG program.",
  "fields": [
    {
      "name": "study_id",
      "valueType": "string",
      "description": "Identifier for the Study",
      "meta": {
        "validationDependency": true,
        "primaryId": true,
        "displayName": "Study ID",
        "notes": "#/notes/id"
      },
      "restrictions": {
        "required": true,
        "regex": "#/regex/id"
      }
    },
    {
      "description": "Unique identifier of the donor, assigned by the data provider",
      "name": "submitter_donor_id",
      "valueType": "string",
      "meta": {
        "validationDependency": true,
        "primaryId": true,
        "foreignKey": "donor.submitter_donor_id",
        "displayName": "Submitter Donor ID",
        "notes": "#/notes/id"
      },
      "restrictions": {
        "required": true,
        "regex": "#/regex/id"
      }
    },
    {
      "description": "Donor's age (in days) at recruitment",
      "name": "age_at_recruitment",
      "valueType": "number",
      "meta": {
        "core": true,
        "displayName": "Age of donor at recruitment", 
        "units":"days"
      },
      "restrictions": {
        "range": {
          "min": 0,
          "max": 40000
        },
        "required": true
      }
    },
    {
      "description": "Administrative gender of the donor",
      "name": "gender",
      "valueType": "string",
      "restrictions": {
        "required": true,
        "codeList": [
          "Male",
          "Female",
          "Other",
          "Unknown"
        ]
      },
      "meta": {
        "core": true,
        "notes": "Data from administrative health record, medical record or self-reported",
        "displayName": "Gender"
      }
    },
    {
      "description": "Ethnic background of the donor",
      "name": "ethnicity",
      "valueType": "string",
      "restrictions": {
        "codeList": [
          "French Canadian",
          "English Canadian",
          "First Nation, Inuit, Metis",
          "European",
          "Arab",
          "Latin American",
          "African or Caribbean",
          "East and Southeast Asian",
          "South Asian",
          "Mixed",
          "Other"
        ]
      },
      "meta": {
        "displayName": "Ethnicity",
        "notes": "French Canadian trace their ancestry to French colonists who settled in Canada, English Canadians are of English ethnic origin and heritage, Aboriginal (First Nations, Metis, Inuit), White (European descent), Arab (e.g. Egypt, Iraq, Jordan, Lebanon), Latin American (Hispanic), Black (African/Caribbean), East Asian (e.g. China, Japan, Korea, Taiwan), West Asian (e.g. Turkey, Iran, Afghanistan), Southeast Asian (e.g. Malaysia, Indonesia, Viet Nam), South Asian (e.g. India, Sri Lanka, Pakistan, Bangladesh), Filipino, Unknown, Other"
      }
    },
    {
      "description": "Donor's last known state of living or deceased",
      "name": "vital_status",
      "restrictions": {
        "codeList": [
          "Alive",
          "Deceased",
          "Unknown"
        ],
        "required": true
      },
      "valueType": "string",
      "meta": {
        "validationDependency": true,
        "core": true,
        "displayName": "Vital Status"
      }
    },
    {
      "description": "Indicates the cause of a donor's death",
      "name": "cause_of_death",
      "restrictions": {
        "codeList": [
          "Cancer",
          "Heart disease",
          "Cerebrovascular disease",
          "Accidental death",
          "Chronic lower respiratory diseases",
          "Influenza and pneumonia",
          "Other reason",
          "Unknown"
        ],
        "script": "#/script/donor/ensureDeceased"
      },
      "valueType": "string",
      "meta": {
        "core": true,
        "dependsOn": "donor.vital_status",
        "notes": "Cause of death is only required to be submitted if the donor's vital_status is 'Deceased'.",
        "displayName": "Cause of Death"
      }
    },
    {
      "description": "Numeric value to represent the age of the donor at the time of death, in days",
      "name": "age_of_death",
      "valueType": "number",
      "meta": {
        "dependsOn": "donor.vital_status",
        "notes": "Age_of_death is only required to be submitted if the donor's vital_status is Deceased.",
        "validationDependency": true,
        "units": "days",
        "core": "true",
        "displayName": "Age of death"
      },
      "restrictions": {
        "range": {
          "min": 0,
          "max": 40000
        },
        "required": true,
        "script": "#/script/donor/ensureDeceased"
      }
    }
  ]
}